<md-content layout="column" layout-fill flex>

  <div layout="row" style="padding: 20px 40px 0px 40px;" >
      <md-input-container flex>
        <label>Filtro</label>
       <input placeholder="Filtre projetos" name="filter" ng-model="main.filter"/>
    </md-input-container>
    <div flex> </div>
    <md-button class="md-primary" style="width: 150px; max-height: 40px; height: 40px;" ng-click="main.newProjectModal($event, main.projects)">Novo projeto</md-button>
  </div>


    <md-grid-list  layout="row" layout-align="center start"
                   style="padding-left: 5%; padding-top: 20px"

                   md-cols-gt-md="4" md-cols-md="3" md-cols-sm="2" md-cols="1"
                   md-row-height-gt-md="4:3" md-row-height="4:3"
                   md-gutter="10px">

                   <!--md-cols-gt-md="4" md-cols-md="3" md-cols-sm="1"-->
                   <!--md-row-height="4:3"-->
                   <!--md-gutter="10px" >-->



        <md-grid-tile ng-repeat="project in main.projects | filter: main.filter" >

          <!--ng-click="main.openProject(project.id)"-->
            <md-content style="padding:10px; height: 240px; width: 270px" ng-click="main.openProject(project.id)" class="md-whiteframe-6dp" >

                <h2 title="{{project.name}}" style="white-space: nowrap;  overflow: hidden;  text-overflow: ellipsis;">{{project.name}}</h2>

                <md-select aria-label="status" ng-model="project.status" ng-change="main.updateProjectStatus( project )" style="margin: 0, width: 20px" ng-click="$event.stopPropagation();">
                  <md-option ng-value="status.name"  ng-repeat="status in main.status track by status.name">
                    <div layout="row">
                      <div ng-style="{'background-color': status.color}"
                           style="border-radius: 50%; height: 17px; width: 17px; max-width: 17px;"></div>
                      <p style="margin: 0 0 0 10px">{{status.label}}</p>
                    </div>
                  </md-option>
                </md-select>


                <md-divider></md-divider>
                <p>{{project.projectManager.name}}</p>
                <p>{{project.initialDate | date:'dd/MM/yyyy'}} - {{project.finalDate | date:'dd/MM/yyyy' }}</p>
                <!--<md-progress-linear md-mode="determinate" ng-value="{{project.id * 15}}"></md-progress-linear>-->

            </md-content>
        </md-grid-tile>
    </md-grid-list>

    <div flex></div>
</md-content>
